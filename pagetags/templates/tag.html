{% extends "application_page.html" %}

{% block title %}PageTags - Tag - {{ tag.name }}{% endblock %}

{% block application_page_content %}
    <div class="row">
        <div class="col-md-12">
            <h1>{{ tag.name }}</h1>

            {% for post in paginator.items %}
                <div class="row">
                    <div class="col-md-12">
                        <ul class="post">
                            <li><a href="{{ post.url.url }}">{{ post.title }}</a></li>
                            <li><a href="{{ post.url.url }}">{{ post.url.url }}</a></li>
                            <li>
                                <ul class="tag_list">
                                {% for category in post.categories %}
                                    <li><a href="{{ url_for('category', name=category.name) }}">{{ category.name }}</a></li>
                                {% endfor %}
                                {% for tag in post.tags %}
                                    <li><a href="{{ url_for('tag', name=tag.name) }}">{{ tag.name }}</a></li>
                                {% endfor %}
                                </ul>
                            </li>
                            <li>Added at {{ post.added_at.strftime("%Y/%m/%d %H:%M:%S") }}</li>
                        </ul>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            {% if paginator.has_prev %}
                <a href="{{ url_for('tag', name=tag.name) }}?page={{ paginator.prev_num }}">Previous</a>
            {% endif %}

            <span>Page {{ paginator.page }}</span>

            {% if paginator.has_next %}
                <a href="{{ url_for('tag', name=tag.name) }}?page={{ paginator.next_num }}">Next</a>
            {% endif %}
        </div>
    </div>
{% endblock %}
